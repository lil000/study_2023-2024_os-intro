---
marp: true
---

### Отчет по Лабораторной работе 13

### Агаджанян Артур

# Цель работы

### Изучить основы программирования в оболочке ОС UNIX. Научится писать более сложные командные файлы с использованием логических управляющих конструкций и циклов.
___
# Основные этапы работы
### 1. Используя команды getopts grep, написать командный файл, который анализирует командную строку с ключами:
    – -iinputfile — прочитать данные из указанного файла;
    – -ooutputfile — вывести данные в указанный файл;
    – -pшаблон — указать шаблон для поиска;
    – -C — различать большие и малые буквы;
    – -n — выдавать номера строк.
___
Напишем программу
Листинг программы:

    while getopts "i:o:p:cn" opt

    do 

    case $opt in

    i)inputfile="$OPTARG";;

    o)outputfile="$OPTARG";;

    p)shablon="$OPTARG";;

    c)registr="";;
___
    n)number="";;

    esac

    done

    grep -n "$shbalon" "$inpuutfile" > "$outputfile"
___
### 2.  Написfkb на языке Си программу, которая вводит число и определяет, является ли оно больше нуля, меньше нуля или равно нулю. Затем программа завершается с помощью функции exit(n), передавая информацию в о коде завершения в оболочку. Командный файл должен вызывать эту программу и, проанализировав с помощью команды $?, выдать сообщение о том, какое число было введено.

___
листинг программы:

    echo "Insert number:"

    read n

    if [ $n -gt 0 ]

    then echo ">0"

    elif [ $n -eq 0 ]

    then echo "=0"

    else echo "<0"

    fi 

    done
___


### 3. Написали командный файл, создающий указанное число файлов, пронумерованных последовательно от 1 до 𝑁 (например 1.tmp, 2.tmp, 3.tmp,4.tmp и т.д.). Число файлов, которые необходимо создать, передаётся в аргументы командной строки. Этот же командный файл должен уметь удалять все созданные им файлы (если они существуют)
___
Листинг программы:

    while getopts "c:r" opt

    do 

    case $opt in

    c)n="OPTARG; for i in $(seq 1 $n); do toch "$i.tmp"; done;;

    r)for i in $(find -name "*.tmp"); do rm $i; done;;

    esac

    done
___


### 4. Написали командный файл, который с помощью команды tar запаковывает в архив все файлы в указанной директории. Модифицировать его так, чтобы запаковывались только те файлы, которые были изменены менее недели тому назад (использовать команду find)
___
листинг программы:

    echo "Insert directory:"

    read directory

    echo "Insert file format: "

    read format

    find $directory -name "$format"

    -type f |wc -l
___ 
### Вывод

Изучили основы программирования в оболочке ОС UNIX. Научились писать более
сложные командные файлы с использованием логических управляющих конструкций
и циклов.